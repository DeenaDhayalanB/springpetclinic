- job:
    name: spring_petclinic_jjb_arunesh_<appndid>
    project-type: freestyle
    defaults: global
    description: 'Build and Deploy of petclinc via JJB -Branch arunesh'
    block-downstream: true
    block-upstream: true
    concurrent: false
    node: master
    properties:
       - throttle:
          max-per-node: 1
          max-total: 1
       - github:
          url: https://github.com/devopsbasservice/springpetclinic
    scm:
       - git:
          url: https://github.com/devopsbasservice/springpetclinic
          branches:
            - refs/heads/arunesh
          git-config-name: Arunesh
          git-config-email: arunesh.m@cognizant.com
          force-polling-using-workspace: true
          prune: true
          extensions:
            per-build-tag: false
            prune: true            
    triggers:
       - pollscm:
          cron: "* * * * *"
          ignore-post-commit-hooks: True
    builders:
       - maven-target:
            maven-version: Maven3
            pom: pom.xml
            goals: clean install sonar:sonar -Dsonar.host.url=http://52.91.184.145:9001/
    publishers:
       - logstash:
          max-lines: -1
          fail-build: false
    wrappers:
       - mask-passwords
       - logstash:
           use-redis: false

- docker_image:
    name: devopsbasservice/basejenkins_maven_git_java
